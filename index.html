<!DOCTYPE html>
<html lang="en" class="min-h-screen bg-gray-50" itemscope itemtype="https://schema.org/WebApplication">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Who Follows Me on Instagram? See Who Doesn't Follow Back | Free Instagram Analyzer Tool 2025</title>
  <meta name="description"
        content="Find out who doesn't follow you back on Instagram instantly! Free Instagram follower analyzer tool. Upload your Instagram data and see who unfollowed you, mutual followers, and ghost followers. 100% private and secure - works in your browser.">
  <meta name="keywords" content="who follows me on instagram, instagram followers analyzer, who doesn't follow me back instagram, instagram mutual followers, see instagram followers, instagram ghost followers, instagram unfollowers, free instagram tool, instagram follower checker, instagram analytics tool">
  <link rel="canonical" href="https://whofollowsme.com/">
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">

  <!-- Favicons -->
  <link rel="icon" href="/favicon.ico" />

  <!-- Open Graph -->
  <meta property="og:type"        content="website"/>
  <meta property="og:title"       content="Free Instagram Follower Analyzer - See Who Doesn't Follow You Back"/>
  <meta property="og:description" content="Discover who unfollowed you on Instagram! Free tool to analyze your Instagram followers, find ghost followers, and see mutual connections. 100% private and secure."/>
  <meta property="og:url"         content="https://whofollowsme.com/"/>
  <meta property="og:image"       content="https://whofollowsme.com/preview.png"/>
  <meta property="og:image:width"  content="1200"/>
  <meta property="og:image:height" content="630"/>

  <!-- Twitter Card -->
  <meta name="twitter:card"        content="summary_large_image"/>
  <meta name="twitter:title"       content="Free Instagram Follower Analyzer - See Who Doesn't Follow You Back"/>
  <meta name="twitter:description" content="Find Instagram ghost followers and see who unfollowed you! Free, private Instagram analytics tool that works in your browser."/>
  <meta name="twitter:image"       content="https://whofollowsme.com/preview.png"/>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PVWHZ1JWVR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-PVWHZ1JWVR', { page_path: window.location.pathname });
  </script>

  <!-- Google AdSense -->
  <script async
          src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5094319627936586"
          crossorigin="anonymous"></script>

  <!-- Enhanced SEO Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "WebApplication",
        "@id": "https://whofollowsme.com/#webapp",
        "name": "Instagram Follower Analyzer - Who Follows Me",
        "description": "Free Instagram follower analyzer tool to see who doesn't follow you back, find ghost followers, and analyze your Instagram mutual followers. 100% private and secure.",
        "url": "https://whofollowsme.com/",
        "applicationCategory": "SocialNetworkingApplication",
        "operatingSystem": "Web Browser",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      },
      {
        "@type": "FAQPage",
        "@id": "https://whofollowsme.com/#faq",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "How can I see who doesn't follow me back on Instagram?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Our free Instagram follower analyzer tool shows you exactly who doesn't follow you back. Download your Instagram data, upload the ZIP file here, and instantly see accounts that don't reciprocate your follow. This helps you maintain a better follower-to-following ratio."
            }
          },
          {
            "@type": "Question",
            "name": "Is this Instagram follower checker really free?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes! Unlike other Instagram analytics tools, our follower analyzer is 100% free with no hidden costs, premium features, or account requirements. Everything runs locally in your browser for maximum privacy and security."
            }
          },
          {
            "@type": "Question",
            "name": "Can I see who unfollowed me on Instagram?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes! By comparing your current followers with your following list, our Instagram unfollower tracker reveals accounts that don't follow you back. This is the most accurate way to identify who may have unfollowed you recently."
            }
          },
          {
            "@type": "Question",
            "name": "How do I find my Instagram ghost followers?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Ghost followers are accounts that follow you but never engage. While our tool can't detect engagement levels, it can show you who your mutual followers are versus who doesn't follow back, helping you identify potentially inactive accounts."
            }
          },
          {
            "@type": "Question",
            "name": "Does this tool store my Instagram data?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Absolutely not! Everything runs 100% in your browser using client-side JavaScript. We never send, store, or capture any of your Instagram data on our servers. Your privacy is completely protected."
            }
          }
        ]
      },
      {
        "@type": "HowTo",
        "@id": "https://whofollowsme.com/#how-to",
        "name": "How to get your Instagram data ZIP",
        "description": "Step-by-step on requesting your Instagram followers & following data from the mobile app",
        "step": [
          {"@type":"HowToStep","url":"#step1","name":"Open the Instagram app and go to Accounts Center","itemListElement":{"@type":"HowToDirection","text":"Tap ‚ò∞ ‚Üí Accounts Center"}},
          {"@type":"HowToStep","url":"#step2","name":"Your information and permissions","itemListElement":{"@type":"HowToDirection","text":"Select Your information and permissions ‚Üí Download your information"}},
          {"@type":"HowToStep","url":"#step3","name":"Download or transfer information","itemListElement":{"@type":"HowToDirection","text":"Tap Download or transfer information ‚Üí Some of your information"}},
          {"@type":"HowToStep","url":"#step4","name":"Followers and following","itemListElement":{"@type":"HowToDirection","text":"Search for Followers and following ‚Üí Download to device"}},
          {"@type":"HowToStep","url":"#step5","name":"Set options & create files","itemListElement":{"@type":"HowToDirection","text":"Date range: All time; Format: HTML; Media Quality: Medium; Tap Create files"}},
          {"@type":"HowToStep","url":"#step6","name":"Wait & upload ZIP","itemListElement":{"@type":"HowToDirection","text":"Once ZIP arrives by email (up to 48 hrs), upload it here"}}
        ]
      }
    ]
  }
  </script>

  <!-- Preload critical resources for Core Web Vitals -->
  <link rel="preconnect" href="https://cdn.tailwindcss.com">
  <link rel="preconnect" href="https://unpkg.com">
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://www.googletagmanager.com">
  <link rel="preconnect" href="https://pagead2.googlesyndication.com">
  
  <!-- Tailwind, Feather Icons, JSZip -->
  <script src="https://cdn.tailwindcss.com" defer></script>
  <script src="https://unpkg.com/feather-icons" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js" defer></script>

  <style>
    @keyframes pop { 0%,100% { transform: scale(1) } 50% { transform: scale(1.1) } }
    .pop-anim { animation: pop .2s ease-out forwards; }
  </style>
</head>
<body class="flex flex-col min-h-screen">

  <!-- HEADER -->
  <header class="sticky top-0 bg-gradient-to-r from-pink-500 to-yellow-400 text-white p-6 shadow-md flex items-center justify-center z-20">
    <i data-feather="bar-chart-2" class="w-8 h-8 mr-2" role="img" aria-label="Analytics chart icon"></i>
    <h1 class="text-2xl font-bold">Instagram Follower Analyzer - Who Follows Me?</h1>
  </header>

  <!-- MAIN -->
  <main class="flex-1 p-6 overflow-auto">
    <div class="mx-auto w-full max-w-3xl bg-white rounded-2xl shadow-xl overflow-hidden">

      <!-- STATS -->
      <div class="grid grid-cols-3 bg-gray-100 text-center">
        <div class="p-4 border-r">
          <div id="totalFollowers" class="text-lg font-semibold">0</div>
          <div class="text-xs text-gray-500">Followers</div>
        </div>
        <div class="p-4 border-r">
          <div id="totalFollowing" class="text-lg font-semibold">0</div>
          <div class="text-xs text-gray-500">Following</div>
        </div>
        <div class="p-4">
          <div id="ratio" class="text-lg font-semibold">0.00</div>
          <div class="text-xs text-gray-500">Ratio</div>
        </div>
      </div>

      <!-- TABS -->
      <div class="border-b">
        <nav class="-mb-px flex">
          <button data-tab="onlyYou" class="tab-btn flex-1 py-4 text-center font-medium text-gray-600 border-b-2 border-transparent hover:text-gray-800 hover:border-gray-300">
            <span class="block text-sm font-semibold">Ghost Followers</span>
            <span class="block text-xs">Don't Follow Back</span>
          </button>
          <button data-tab="onlyThey" class="tab-btn flex-1 py-4 text-center font-medium text-gray-600 border-b-2 border-transparent hover:text-gray-800 hover:border-gray-300">
            <span class="block text-sm font-semibold">You Don't Follow</span>
            <span class="block text-xs">Back</span>
          </button>
          <button data-tab="mutuals" class="tab-btn flex-1 py-4 text-center font-medium text-gray-600 border-b-2 border-transparent hover:text-gray-800 hover:border-gray-300">
            <span class="block text-sm font-semibold">Mutual Followers</span>
            <span class="block text-xs">Follow Each Other</span>
          </button>
        </nav>
      </div>

      <!-- DOWNLOAD INSTRUCTIONS -->
<section class="bg-white rounded-lg p-6 text-gray-800 space-y-3" id="how-to">
  <div class="mb-6 text-center">
    <h2 class="text-3xl font-bold mb-4 text-gray-900">Find Out Who Doesn't Follow You Back on Instagram</h2>
    <p class="text-lg text-gray-700 mb-4">The #1 Free Instagram Follower Analyzer Tool - See Your Ghost Followers, Mutual Followers, and Instagram Unfollowers Instantly!</p>
    <div class="bg-gradient-to-r from-pink-50 to-yellow-50 p-4 rounded-lg border border-pink-200">
      <p class="text-sm text-gray-800"><strong>‚ú® 100% Free Instagram Analytics Tool</strong> ‚Ä¢ <strong>üîí Completely Private</strong> ‚Ä¢ <strong>‚ö° Instant Results</strong> ‚Ä¢ <strong>üì± Works on Mobile & Desktop</strong></p>
    </div>
  </div>
  <h3 class="text-xl font-semibold">How to Download Your Instagram Follower Data</h3>
  <ol class="list-decimal list-inside text-sm space-y-1">
    <li>Open Instagram app ‚Üí tap ‚ò∞ ‚Üí <strong>Accounts Center</strong></li>
    <li>Tap <em>Your information and permissions</em> ‚Üí <em>Download your information</em></li>
    <li>Choose <em>Download or transfer information</em> ‚Üí <em>Some of your information</em></li>
    <li>Search for <strong>Followers and following</strong> ‚Üí <strong>Download to device</strong></li>
    <li>Set Date range to <strong>All time</strong></li>
    <li>Format: <strong>HTML</strong>, Media Quality: <strong>Medium</strong></li>
    <li>Tap <strong>Create files</strong> and wait (up to 48 hrs) for the ZIP by email</li>
    <li>When you receive the ZIP, upload it here to analyze</li>
  </ol>
  <div class="mt-4 text-center">
    <a
      href="https://accountscenter.instagram.com/info_and_permissions/dyi/?entry_point=deeplink_screen"
      target="_blank"
      rel="noopener"
      class="inline-block bg-indigo-500 text-white px-6 py-2 rounded-full font-semibold hover:bg-indigo-600 transition-colors"
    >
      Download Your Instagram Data
    </a>
  </div>

  <!-- Top Ad - Non-intrusive banner -->
  <div class="max-w-3xl mx-auto my-4">
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-5094319627936586"
         data-ad-slot="1234567890"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
  </div>
</section>

      <!-- PANEL CONTENTS -->
      <div class="p-6 space-y-6">
        <!-- Upload + Filter -->
        <div id="dropzone"
             class="relative border-2 border-dashed border-gray-300 rounded-lg p-12 text-center hover:border-indigo-400 transition-colors cursor-pointer">
          <p class="text-gray-500 mb-4">Drag &amp; drop your ZIP here</p>
          <button id="zipLabel"
                  class="bg-indigo-500 text-white px-6 py-2 rounded-full font-semibold hover:bg-indigo-600 transition-colors">
            Browse ZIP
          </button>
          <input type="file" accept=".zip" id="zipInput"
                 class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"/>
        </div>
        <label for="filter" class="sr-only">Search Instagram usernames</label>
        <input id="filter" placeholder="Search Instagram usernames‚Ä¶" aria-label="Search Instagram usernames"
               class="w-full border rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-indigo-400"/>

        <!-- Instagram Ghost Followers -->
        <div id="onlyYou" class="tab-content space-y-2">
          <div class="flex justify-between items-center">
            <h2 class="font-semibold">Instagram Ghost Followers - Don't Follow You Back</h2>
            <span id="countOnlyYou" class="bg-indigo-500 text-white px-2 py-0.5 rounded-full text-sm">0</span>
          </div>
          <button id="showAllOnlyYou" class="hidden mb-2 text-sm text-indigo-600">Show All Ghost Followers</button>
          <ul id="listOnlyYou" class="max-h-64 overflow-y-auto space-y-1"></ul>
        </div>

        <!-- You Don't Follow Back -->
        <div id="onlyThey" class="tab-content hidden space-y-2">
          <div class="flex justify-between items-center">
            <h2 class="font-semibold">Accounts You Don't Follow Back</h2>
            <span id="countOnlyThey" class="bg-indigo-500 text-white px-2 py-0.5 rounded-full text-sm">0</span>
          </div>
          <ul id="listOnlyThey" class="max-h-64 overflow-y-auto space-y-1"></ul>
        </div>

        <!-- Mutual Instagram Followers -->
        <div id="mutuals" class="tab-content hidden space-y-2">
          <div class="flex justify-between items-center">
            <h2 class="font-semibold">Mutual Instagram Followers</h2>
            <span id="countMutuals" class="bg-indigo-500 text-white px-2 py-0.5 rounded-full text-sm">0</span>
          </div>
          <ul id="listMutuals" class="max-h-64 overflow-y-auto space-y-1"></ul>
        </div>
      </div>
    </div>
  </main>

  <!-- SEO CONTENT SECTION -->
  <section class="bg-white rounded-lg shadow-md max-w-3xl mx-auto p-6 mb-8" id="instagram-analytics-guide">
    <h2 class="text-2xl font-bold mb-6 text-gray-900">Complete Guide to Instagram Follower Analytics</h2>
    
    <div class="space-y-6">
      <article>
        <h3 class="text-xl font-semibold mb-3 text-gray-800">How to See Who Doesn't Follow You Back on Instagram</h3>
        <p class="text-gray-700 mb-3">
          Finding out who doesn't follow you back on Instagram is crucial for maintaining a healthy follower-to-following ratio. Our <strong>free Instagram follower analyzer</strong> tool helps you identify these accounts instantly by analyzing your Instagram data export.
        </p>
        <p class="text-gray-700">
          Simply download your Instagram data (following our step-by-step guide above), upload the ZIP file, and see exactly <strong>who unfollowed you on Instagram</strong> and which accounts you're following that don't follow back.
        </p>
      </article>

      <article>
        <h3 class="text-xl font-semibold mb-3 text-gray-800">What Are Instagram Ghost Followers?</h3>
        <p class="text-gray-700 mb-3">
          <strong>Instagram ghost followers</strong> are accounts that follow you but never engage with your content. These can be inactive accounts, bots, or people who simply don't interact with your posts. Our tool helps you identify these accounts so you can clean up your follower list.
        </p>
        <ul class="list-disc list-inside text-gray-700 space-y-1">
          <li>Inactive accounts that haven't posted in months</li>
          <li>Bot accounts with no profile picture or bio</li>
          <li>Accounts that follow thousands but have few followers</li>
          <li>Real users who simply don't engage with your content</li>
        </ul>
      </article>

      <article>
        <h3 class="text-xl font-semibold mb-3 text-gray-800">Benefits of Using Our Instagram Follower Checker</h3>
        <div class="grid md:grid-cols-2 gap-4">
          <div class="bg-gray-50 p-4 rounded-lg">
            <h4 class="font-semibold text-gray-800 mb-2">üîç Find Instagram Unfollowers</h4>
            <p class="text-sm text-gray-700">Discover exactly who stopped following you and when</p>
          </div>
          <div class="bg-gray-50 p-4 rounded-lg">
            <h4 class="font-semibold text-gray-800 mb-2">üë• Analyze Mutual Followers</h4>
            <p class="text-sm text-gray-700">See which accounts follow you back and engage with them</p>
          </div>
          <div class="bg-gray-50 p-4 rounded-lg">
            <h4 class="font-semibold text-gray-800 mb-2">üìä Instagram Analytics Insights</h4>
            <p class="text-sm text-gray-700">Get detailed stats about your follower relationships</p>
          </div>
          <div class="bg-gray-50 p-4 rounded-lg">
            <h4 class="font-semibold text-gray-800 mb-2">üõ°Ô∏è 100% Private & Secure</h4>
            <p class="text-sm text-gray-700">All analysis happens in your browser - we never see your data</p>
          </div>
        </div>
      </article>

      <article>
        <h3 class="text-xl font-semibold mb-3 text-gray-800">Why Choose Our Instagram Follower Analyzer?</h3>
        <p class="text-gray-700 mb-3">
          Unlike other Instagram analytics tools that require login credentials or paid subscriptions, our <strong>free Instagram tool</strong> works entirely in your browser using your own Instagram data export.
        </p>
        <div class="bg-green-50 border-l-4 border-green-400 p-4 rounded">
          <h4 class="font-semibold text-green-800 mb-2">‚úÖ Completely Free Forever</h4>
          <p class="text-green-700 text-sm">No hidden fees, no premium features, no account required</p>
        </div>
      </article>
    </div>
  </section>

  <!-- Middle Ad - Between content sections -->
  <div class="max-w-3xl mx-auto my-6">
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-5094319627936586"
         data-ad-slot="9876543210"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
  </div>

  <!-- FAQ -->
  <section class="bg-white rounded-lg shadow-md max-w-3xl mx-auto p-6 mb-8" id="faq">
    <h2 class="text-xl font-semibold mb-4">Frequently Asked Questions About Instagram Follower Analysis</h2>
    <div class="space-y-4">
      <div>
        <h3 class="font-medium">How can I see who doesn't follow me back on Instagram?</h3>
        <p class="text-gray-700">
          Our free Instagram follower analyzer tool shows you exactly who doesn't follow you back. Download your Instagram data, upload the ZIP file here, and instantly see accounts that don't reciprocate your follow. This helps you maintain a better follower-to-following ratio.
        </p>
      </div>
      <div>
        <h3 class="font-medium">Is this Instagram follower checker really free?</h3>
        <p class="text-gray-700">
          Yes! Unlike other Instagram analytics tools, our follower analyzer is 100% free with no hidden costs, premium features, or account requirements. Everything runs <strong>locally in your browser</strong> for maximum privacy and security.
        </p>
      </div>
      <div>
        <h3 class="font-medium">How do I find my Instagram ghost followers?</h3>
        <p class="text-gray-700">
          Ghost followers are accounts that follow you but never engage. While our tool can't detect engagement levels, it can show you who your mutual followers are versus who doesn't follow back, helping you identify potentially inactive accounts.
        </p>
      </div>
      <div>
        <h3 class="font-medium">Can I see who unfollowed me on Instagram?</h3>
        <p class="text-gray-700">
          Yes! By comparing your current followers with your following list, our Instagram unfollower tracker reveals accounts that don't follow you back. This is the most accurate way to identify who may have unfollowed you recently.
        </p>
      </div>
      <div>
        <h3 class="font-medium">Does this tool store my Instagram data?</h3>
        <p class="text-gray-700">
          Absolutely not! Everything runs <strong>100% in your browser</strong> using client-side JavaScript. We never send, store, or capture any of your Instagram data on our servers. Your privacy is completely protected.
        </p>
      </div>
      <div>
        <h3 class="font-medium">How do I download my Instagram follower data?</h3>
        <p class="text-gray-700">
          Follow the detailed step-by-step guide above. Go to Instagram ‚Üí Settings ‚Üí Privacy ‚Üí Download Your Information ‚Üí select "Followers and Following" ‚Üí choose HTML format. Instagram will email you a ZIP file within 48 hours.
        </p>
      </div>
      <div>
        <h3 class="font-medium">What's the difference between mutual followers and ghost followers?</h3>
        <p class="text-gray-700">
          <strong>Mutual followers</strong> are accounts that follow you and you follow back - these create genuine engagement. <strong>Ghost followers</strong> follow you but don't engage with your content, which can hurt your Instagram algorithm performance.
        </p>
      </div>
    </div>
  </section>

  <!-- Bottom Ad - Before footer -->
  <div class="max-w-3xl mx-auto my-6">
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-5094319627936586"
         data-ad-slot="5555555555"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
  </div>

  <!-- FOOTER -->
  <footer class="bg-gray-100 text-gray-500 text-sm text-center p-4">
    Made with ‚ù§Ô∏è by You
  </footer>

  <script>
    feather.replace();

    // Element refs
    const zipInput      = document.getElementById('zipInput'),
          zipLabel      = document.getElementById('zipLabel'),
          dropzone      = document.getElementById('dropzone'),
          filterInput   = document.getElementById('filter'),
          listOnlyYou   = document.getElementById('listOnlyYou'),
          listOnlyThey  = document.getElementById('listOnlyThey'),
          listMutuals   = document.getElementById('listMutuals'),
          showAllYouBtn = document.getElementById('showAllOnlyYou'),
          countOnlyYou  = document.getElementById('countOnlyYou'),
          countOnlyThey = document.getElementById('countOnlyThey'),
          countMutuals  = document.getElementById('countMutuals'),
          totalF        = document.getElementById('totalFollowers'),
          totalG        = document.getElementById('totalFollowing'),
          ratioEl       = document.getElementById('ratio');

    let origOnlyYou = [];

    // Updates badge count
    function updateCount(badge, ul) {
      badge.textContent = ul.querySelectorAll('li').length;
    }

    // Render "They Don‚Äôt Follow You" (removable)
    function renderRemovable(arr, ul, btn, badge) {
      ul.innerHTML = '';
      if (!arr.length) {
        ul.innerHTML = '<li class="italic text-gray-400">None</li>';
        badge.textContent = 0;
        btn.classList.add('hidden');
        return;
      }
      arr.forEach(u => {
        const url = `https://instagram.com/${u}`,
              li  = document.createElement('li'),
              a   = document.createElement('a');
        li.className = 'p-3 bg-gray-50 rounded hover:bg-indigo-50 transition flex items-center';
        a.textContent = u;
        a.href       = url;
        a.target     = '_blank';
        a.rel        = 'noopener';
        a.className  = 'flex-1';
        // Click link ‚Üí open in new tab, remove item, update count
        a.addEventListener('click', e => {
          e.preventDefault();
          window.open(url, '_blank');
          li.remove();
          updateCount(badge, ul);
          if (ul.children.length < arr.length) btn.classList.remove('hidden');
        });
        li.appendChild(a);
        ul.appendChild(li);
      });
      updateCount(badge, ul);
      btn.classList.add('hidden');
    }

    // Render static lists
    function renderStatic(arr, ul, badge) {
      ul.innerHTML = '';
      if (!arr.length) {
        ul.innerHTML = '<li class="italic text-gray-400">None</li>';
        badge.textContent = 0;
        return;
      }
      arr.forEach(u => {
        const url = `https://instagram.com/${u}`,
              li  = document.createElement('li'),
              a   = document.createElement('a');
        li.className = 'p-3 bg-gray-50 rounded hover:bg-indigo-50 transition flex items-center';
        a.textContent = u;
        a.href       = url;
        a.target     = '_blank';
        a.rel        = 'noopener';
        a.className  = 'flex-1';
        // Click anywhere opens in new tab
        a.addEventListener('click', e => {
          e.preventDefault();
          window.open(url, '_blank');
        });
        li.appendChild(a);
        ul.appendChild(li);
      });
      updateCount(badge, ul);
    }

    // "Show All" handler
    showAllYouBtn.addEventListener('click', () => {
      renderRemovable(origOnlyYou, listOnlyYou, showAllYouBtn, countOnlyYou);
      filterInput.dispatchEvent(new Event('input'));
    });

    // Filter across all lists
    filterInput.addEventListener('input', () => {
      const term = filterInput.value.toLowerCase();
      [listOnlyYou, listOnlyThey, listMutuals].forEach(ul => {
        ul.querySelectorAll('li').forEach(li => {
          li.style.display = li.textContent.toLowerCase().includes(term)? '' : 'none';
        });
      });
      updateCount(countOnlyYou, listOnlyYou);
      updateCount(countOnlyThey, listOnlyThey);
      updateCount(countMutuals, listMutuals);
    });

    // Tabs logic
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-btn')
          .forEach(b => b.classList.remove('text-indigo-600','border-indigo-600'));
        btn.classList.add('text-indigo-600','border-indigo-600');
        document.querySelectorAll('.tab-content').forEach(c => c.classList.add('hidden'));
        document.getElementById(btn.dataset.tab).classList.remove('hidden');
        filterInput.dispatchEvent(new Event('input'));
      });
    });
    // Activate first tab
    document.querySelector('.tab-btn').click();

    // Drag & drop styling
    ['dragenter','dragover'].forEach(evt=>{
      dropzone.addEventListener(evt, e=>{
        e.preventDefault();
        dropzone.classList.add('border-indigo-400');
      });
    });
    ['dragleave','drop'].forEach(evt=>{
      dropzone.addEventListener(evt, e=>{
        e.preventDefault();
        dropzone.classList.remove('border-indigo-400');
      });
    });
    dropzone.addEventListener('drop', e=>{
      if(e.dataTransfer.files[0]) zipInput.files = e.dataTransfer.files;
      zipInput.dispatchEvent(new Event('change'));
    });

    // Process ZIP
    zipInput.addEventListener('change', async ()=>{
      const file = zipInput.files[0];
      if(!file||!file.name.endsWith('.zip'))
        return alert('Please select a valid Instagram ZIP.');
      dropzone.classList.add('opacity-50');
      zipLabel.classList.add('pop-anim');
      try {
        const zip = await JSZip.loadAsync(file);
        
        // Try to find followers file with various possible names
        let followersFile = zip.file('connections/followers_and_following/followers_1.html') ||
                           zip.file('connections/followers_and_following/followers.html') ||
                           zip.file('followers_and_following/followers_1.html') ||
                           zip.file('followers_and_following/followers.html');
        
        // Try to find following file with various possible names                   
        let followingFile = zip.file('connections/followers_and_following/following.html') ||
                           zip.file('followers_and_following/following.html');
        
        if (!followersFile || !followingFile) {
          alert('Could not find followers/following files in ZIP. Please make sure you downloaded the correct Instagram data with "Followers and following" selected.');
          return;
        }
        
        const html1  = await followersFile.async('string'),
              html2  = await followingFile.async('string'),
              parser = new DOMParser(),
              extract= html => Array.from(
                parser.parseFromString(html,'text/html').querySelectorAll('a')
              ).map(a=>a.textContent.trim()).filter(Boolean);

        const followers = new Set(extract(html1)),
              following = new Set(extract(html2)),
              onlyYou   = [...following].filter(u=>!followers.has(u)),
              onlyThey  = [...followers].filter(u=>!following.has(u)),
              mutuals   = [...followers].filter(u=>following.has(u));

        origOnlyYou = onlyYou.slice();
        renderRemovable(origOnlyYou, listOnlyYou, showAllYouBtn, countOnlyYou);
        renderStatic(onlyThey,       listOnlyThey, countOnlyThey);
        renderStatic(mutuals,        listMutuals,  countMutuals);

        totalF.textContent = followers.size;
        totalG.textContent = following.size;
        ratioEl.textContent = (followers.size/following.size).toFixed(2);

      } catch(err) {
        console.error(err);
        alert('Error reading that ZIP.');
      } finally {
        dropzone.classList.remove('opacity-50');
      }
    });

    // Cleanup animation
    zipLabel.addEventListener('animationend', ()=>zipLabel.classList.remove('pop-anim'));

    // Initialize ads after page loads
    window.addEventListener('load', function() {
      try {
        (adsbygoogle = window.adsbygoogle || []).push({});
        (adsbygoogle = window.adsbygoogle || []).push({});
        (adsbygoogle = window.adsbygoogle || []).push({});
      } catch (e) {
        console.log('AdSense loading...');
      }
    });
  </script>
</body>
</html>
